@page "/ticket"
@using System.Net

<PageTitle>Ticketing</PageTitle>

<head>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

<h3>TicketPage</h3>

<p>Send a ticket for the employees</p>
<p>Your room numnber:</p>
<input type="text" @bind="roomNumber" placeholder="Room Number" />
<p>The subject of your ticket:</p>
<input type="text" @bind="subject" placeholder="Subject" />
<P>Youre message:</P>
<input type="text" @bind="message" placeholder="Message" />

<button class="btn btn-primary" @onclick=MakeEmail>Send Ticket</button>

@code {
	private string roomNumber;
	private string subject;
	private string message;
	private string fromEmail = "trinityHotelGuest@outlook.com";

	public void MakeEmail()
	{
		subject = "Room number: " + roomNumber + " " + subject;
		MailServices.SendEmail(fromEmail, subject, message);
	}
}